<!DOCTYPE html>
<html>
<head>
    <title>설비 트러블 부동 조치 대응보고</title>
    <style>
        body {
            font-family: 'Apple SD Gothic Neo', 'Noto Sans KR', sans-serif;
            background-color: #f4f6f8;
            margin: 0;
            padding: 0;
            color: #222;
        }
        .container {
            max-width: 100%;
            width: 92%;
            margin: 1.5rem auto;
            background: white;
            padding: 1.8rem;
            border-radius: 16px;
            box-shadow: 0 8px 20px rgba(0,0,0,0.1);
        }
        h2 {
            text-align: center;
            color: #007BFF;
            font-size: 1.6rem;
            margin-bottom: 1.5rem;
        }
        label {
            display: block;
            margin-top: 1.3rem;
            font-weight: 600;
            color: #333;
            font-size: 1.05rem;
        }
        input, select, textarea {
            width: 100%;
            padding: 1rem;
            margin-top: 0.4rem;
            font-size: 1.05rem;
            border-radius: 12px;
            border: 1px solid #ccc;
            box-sizing: border-box;
            background-color: #fdfdfd;
        }
        textarea::placeholder {
            white-space: pre-line;
            color: #aaa;
        }
        button {
            margin-top: 2rem;
            width: 100%;
            padding: 1rem;
            background-color: #007BFF;
            color: white;
            border: none;
            border-radius: 12px;
            font-size: 1.2rem;
            font-weight: bold;
            cursor: pointer;
        }
        button:hover {
            background-color: #0056b3;
        }
.button-group {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
    margin-top: 1.2rem;
}
        #output {
            margin-top: 2.5rem;
            background: #f1f3f5;
            padding: 1.2rem;
            border-radius: 12px;
            white-space: pre-line;
            font-size: 1.05rem;
            line-height: 1.6;
            color: #333;
        }
    </style>
</head>
<body>
    <div class="container">
        <h2>설비 트러블 대응 보고</h2>
        <form id="reportForm">
            <label>호기:
    <select id="machine">
        <optgroup label="NOR 라인">
            <option value="1-1">#1-1</option>
            <option value="1-2">#1-2</option>
            <option value="1-3">#1-3</option>
            <option value="1-4">#1-4</option>
            <option value="2-1">#2-1</option>
            <option value="2-2">#2-2</option>
            <option value="2-3">#2-3</option>
            <option value="2-4">#2-4</option>
            <option value="3-1">#3-1</option>
            <option value="3-2">#3-2</option>
            <option value="3-3">#3-3</option>
            <option value="3-4">#3-4</option>
            <option value="5-1">#5-1</option>
            <option value="5-2">#5-2</option>
            <option value="5-3">#5-3</option>
            <option value="5-4">#5-4</option>
            <option value="6-1">#6-1</option>
            <option value="6-2">#6-2</option>
            <option value="6-3">#6-3</option>
            <option value="6-4">#6-4</option>
            <option value="8-1">#8-1</option>
            <option value="8-2">#8-2</option>
            <option value="8-3">#8-3</option>
            <option value="8-4">#8-4</option>
            <option value="8-5">#8-5</option>
            <option value="12-1">#12-1</option>
            <option value="12-2">#12-2</option>
            <option value="12-3">#12-3</option>
            <option value="12-4">#12-4</option>
            <option value="12-5">#12-5</option>
            <option value="15-1">#15-1</option>
            <option value="15-2">#15-2</option>
            <option value="15-3">#15-3</option>
            <option value="15-4">#15-4</option>
            <option value="16-1">#16-1</option>
            <option value="16-2">#16-2</option>
            <option value="16-3">#16-3</option>
            <option value="16-4">#16-4</option>
            <option value="17-1">#17-1</option>
            <option value="17-2">#17-2</option>
            <option value="17-3">#17-3</option>
            <option value="17-4">#17-4</option>
            <option value="18-1">#18-1</option>
            <option value="18-2">#18-2</option>
            <option value="18-3">#18-3</option>
            <option value="18-4">#18-4</option>
            <option value="19-1">#19-1</option>
            <option value="19-2">#19-2</option>
            <option value="19-3">#19-3</option>
            <option value="19-4">#19-4</option>
        </optgroup>
        <optgroup label="MEB 라인">
            <option value="4-1">#4-1</option>
            <option value="4-2">#4-2</option>
            <option value="4-3">#4-3</option>
            <option value="10-1">#10-1</option>
            <option value="10-2">#10-2</option>
            <option value="10-3">#10-3</option>
            <option value="13-0">#13-0</option>
            <option value="13-1">#13-1</option>
            <option value="13-2">#13-2</option>
            <option value="13-3">#13-3</option>
            <option value="14-1">#14-1</option>
            <option value="14-2">#14-2</option>
            <option value="14-3">#14-3</option>
            <option value="20-1">#20-1</option>
            <option value="20-2">#20-2</option>
            <option value="20-3">#20-3</option>
            <option value="21-1">#21-1</option>
            <option value="21-2">#21-2</option>
            <option value="21-3">#21-3</option>
            <option value="22-0">#22-0</option>
            <option value="22-1">#22-1</option>
            <option value="22-2">#22-2</option>
            <option value="22-3">#22-3</option>
            <option value="24-1">#24-1</option>
            <option value="24-2">#24-2</option>
            <option value="24-3">#24-3</option>
        </optgroup>
    </select>
</label>

            <label>색지도 시작 시간: <input type="time" id="startInspection"></label>
            <label>색지도 종료 시간: <input type="time" id="endInspection"></label>

            <label>작업 시작 시간: <input type="time" id="startWork"></label>
            <label>작업 종료 시간: <input type="time" id="endWork"></label>

            <label>설비부위: <input type="text" id="equipmentPart"></label>

           <label>현상:
    <textarea id="phenomenon" placeholder="1. 얼라인 그리퍼 동작이상
2. 얼라인 그리퍼 Z축 리미트 에러"></textarea>
</label>

<label>조치내용:
    <textarea id="action" placeholder="1. 이상 소음 발생 구동부 점검
2. 구동부 탈거 및 마모 상태 확인
3. 부품 이상 확인후 교체"></textarea>
</label>

<label>예상 원인:
    <textarea id="cause" placeholder="1. 예상 원인
2. 예상 원인"></textarea>
</label>

            <label>대응 방식:
                <select id="responseType">
                    <option value="CS">CS</option>
                    <option value="CS/PDT">CS/PDT</option>
                    <option value="CS/Tech">CS/Tech</option>
                    <option value="CS/Eng">CS/Eng</option>
                </select>
            </label>

            <label>대응 분류:
                <select id="responseCategory">
                    <option value="Nain Tech">Nain Tech</option>
                    <option value="Shinjin">Shinjin</option>
                    <option value="OST">OST</option>
                </select>
            </label>

            <button type="button" onclick="generateReport()">보고서 생성</button>
        </form>

       <div id="output"></div>

<div class="button-group">
    <button onclick="copyToClipboard()">📋 복사하기</button>
    <a id="translateLink" href="#" target="_blank" style="text-align:center; display:block; background:#007BFF; color:white; font-weight:bold; padding:1rem; border-radius:12px; text-decoration:none; margin-top:0.5rem;">
    🌐 영어로 번역 (구글 번역)
</a>
</div>

    <script>
    function calculateTime(start, end) {
        if (!start || !end) return "-";
        const [sh, sm] = start.split(":").map(Number);
        const [eh, em] = end.split(":").map(Number);
        let startDate = new Date(0, 0, 0, sh, sm);
        let endDate = new Date(0, 0, 0, eh, em);
        let diff = (endDate - startDate) / 60000;
        if (diff < 0) diff += 1440;
        const h = Math.floor(diff / 60);
        const m = diff % 60;
        return `${h}:${m.toString().padStart(2, '0')}`;
    }

    function generateReport() {
        const machine = document.getElementById('machine').value;
        const startWork = document.getElementById('startWork').value;
        const endWork = document.getElementById('endWork').value;
        const workDuration = calculateTime(startWork, endWork);

        const startInspection = document.getElementById('startInspection').value;
        const endInspection = document.getElementById('endInspection').value;
        const inspectionDuration = calculateTime(startInspection, endInspection);

        const equipmentPart = document.getElementById('equipmentPart').value;
        const phenomenon = document.getElementById('phenomenon').value;
        const action = document.getElementById('action').value;
        const cause = document.getElementById('cause').value;
        const responseType = document.getElementById('responseType').value;
        const responseCategory = document.getElementById('responseCategory').value;

        const report = `설비 트러블 부동 조치 대응보고(${responseCategory})\n\n` +
`호기 : ${machine}\n` +
`작업 시간 : ${startWork}~${endWork} (${workDuration})\n` +
`색지도 시간 : ${startInspection}~${endInspection} (${inspectionDuration})\n` +
`설비부위 : ${equipmentPart}\n` +
`현상 :\n${phenomenon}\n` +
`조치내용 :\n${action}\n` +
`예상원인 :\n${cause}\n` +
`대응 방식 : ${responseType}`;
        document.getElementById("output").innerText = report;
    }
        const encoded = encodeURIComponent(report);
const url = `https://translate.google.com/?sl=ko&tl=en&text=${encoded}&op=translate`;
document.getElementById("translateLink").href = url;
        function copyToClipboard() {
    const text = document.getElementById("output").innerText;
    navigator.clipboard.writeText(text).then(() => {
        alert("보고서가 복사되었습니다.");
    }).catch(err => {
        alert("복사 실패: " + err);
    });
}
</script>
</body>
</html>
